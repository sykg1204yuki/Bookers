<% if flash[:notice] %>
  <section class="notifications">
    <p><%= flash[:notice] %></p>
  </section>
<% end %>


<header>
  <section class="main-top-headline">
    <h1><strong>Books</strong></h1>
  </section>
</header>

<table width="90%" cellspacing="20">
  <tr>
    <th width="20%">Title</th>
    <th width="50%">Body</th>
    <th width="30%"></th>
  </tr>
  <!--ここからRubyコード-->
  <% @books.each do |book| %>
    <tr>
      <td><%= book.title %></td>
      <td><%= book.body %></td>
      <td>
        <ul>
          <li class="main-link">
            <%= link_to 'Show', book_path(book.id) %>
          </li>
           <li class="main-link">
            <%= link_to 'Edit', edit_book_path(book.id) %>
          </li>
           <li class="main-link">
            <%= link_to 'Destroy', book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %>
          </li>
        </ul>
      </td>
    </tr>
  <% end %>
</table>

 <!-- ここからRailsにてアクションと連携 (form_with)-->
<%= form_with model:@book,local:true do |f| %>

  <div class="main-form">
    <h3><strong>New book</strong></h3>
    <section class="form">
      <p>title</p>
      <%= f.text_field :title %>
    </section>
    <section class="form">
      <p>Body</p>
      <%= f.text_area :body %>
    </section>
    <div class="form form-submit">
      <%= f.submit 'Create book' %>
    </div>
  </div>
<% end %>

